{"ast":null,"code":"import ENGLISH from './i18n';\nimport RRule from '../index';\nimport { isArray, isNumber, isPresent } from '../helpers'; // =============================================================================\n// Helper functions\n// =============================================================================\n\n/**\n * Return true if a value is in an array\n */\n\nvar contains = function (arr, val) {\n  return arr.indexOf(val) !== -1;\n};\n\nvar defaultGetText = function (id) {\n  return id.toString();\n};\n\nvar defaultDateFormatter = function (year, month, day) {\n  return month + \" \" + day + \", \" + year;\n};\n/**\n *\n * @param {RRule} rrule\n * Optional:\n * @param {Function} gettext function\n * @param {Object} language definition\n * @constructor\n */\n\n\nvar ToText =\n/** @class */\nfunction () {\n  function ToText(rrule, gettext, language, dateFormatter) {\n    if (gettext === void 0) {\n      gettext = defaultGetText;\n    }\n\n    if (language === void 0) {\n      language = ENGLISH;\n    }\n\n    if (dateFormatter === void 0) {\n      dateFormatter = defaultDateFormatter;\n    }\n\n    this.text = [];\n    this.language = language || ENGLISH;\n    this.gettext = gettext;\n    this.dateFormatter = dateFormatter;\n    this.rrule = rrule;\n    this.options = rrule.options;\n    this.origOptions = rrule.origOptions;\n\n    if (this.origOptions.bymonthday) {\n      var bymonthday = [].concat(this.options.bymonthday);\n      var bynmonthday = [].concat(this.options.bynmonthday);\n      bymonthday.sort(function (a, b) {\n        return a - b;\n      });\n      bynmonthday.sort(function (a, b) {\n        return b - a;\n      }); // 1, 2, 3, .., -5, -4, -3, ..\n\n      this.bymonthday = bymonthday.concat(bynmonthday);\n      if (!this.bymonthday.length) this.bymonthday = null;\n    }\n\n    if (isPresent(this.origOptions.byweekday)) {\n      var byweekday = !isArray(this.origOptions.byweekday) ? [this.origOptions.byweekday] : this.origOptions.byweekday;\n      var days = String(byweekday);\n      this.byweekday = {\n        allWeeks: byweekday.filter(function (weekday) {\n          return !weekday.n;\n        }),\n        someWeeks: byweekday.filter(function (weekday) {\n          return Boolean(weekday.n);\n        }),\n        isWeekdays: days.indexOf('MO') !== -1 && days.indexOf('TU') !== -1 && days.indexOf('WE') !== -1 && days.indexOf('TH') !== -1 && days.indexOf('FR') !== -1 && days.indexOf('SA') === -1 && days.indexOf('SU') === -1,\n        isEveryDay: days.indexOf('MO') !== -1 && days.indexOf('TU') !== -1 && days.indexOf('WE') !== -1 && days.indexOf('TH') !== -1 && days.indexOf('FR') !== -1 && days.indexOf('SA') !== -1 && days.indexOf('SU') !== -1\n      };\n\n      var sortWeekDays = function (a, b) {\n        return a.weekday - b.weekday;\n      };\n\n      this.byweekday.allWeeks.sort(sortWeekDays);\n      this.byweekday.someWeeks.sort(sortWeekDays);\n      if (!this.byweekday.allWeeks.length) this.byweekday.allWeeks = null;\n      if (!this.byweekday.someWeeks.length) this.byweekday.someWeeks = null;\n    } else {\n      this.byweekday = null;\n    }\n  }\n  /**\n   * Test whether the rrule can be fully converted to text.\n   * @param {RRule} rrule\n   * @return {Boolean}\n   */\n\n\n  ToText.isFullyConvertible = function (rrule) {\n    var canConvert = true;\n    if (!(rrule.options.freq in ToText.IMPLEMENTED)) return false;\n    if (rrule.origOptions.until && rrule.origOptions.count) return false;\n\n    for (var key in rrule.origOptions) {\n      if (contains(['dtstart', 'wkst', 'freq'], key)) return true;\n      if (!contains(ToText.IMPLEMENTED[rrule.options.freq], key)) return false;\n    }\n\n    return canConvert;\n  };\n\n  ToText.prototype.isFullyConvertible = function () {\n    return ToText.isFullyConvertible(this.rrule);\n  };\n  /**\n   * Perform the conversion. Only some of the frequencies are supported.\n   * If some of the rrule's options aren't supported, they'll\n   * be omitted from the output an \"(~ approximate)\" will be appended.\n   * @return {*}\n   */\n\n\n  ToText.prototype.toString = function () {\n    var gettext = this.gettext;\n\n    if (!(this.options.freq in ToText.IMPLEMENTED)) {\n      return gettext('RRule error: Unable to fully convert this rrule to text');\n    }\n\n    this.text = [gettext('every')]; // @ts-ignore\n\n    this[RRule.FREQUENCIES[this.options.freq]]();\n\n    if (this.options.until) {\n      this.add(gettext('until'));\n      var until = this.options.until;\n      this.add(this.dateFormatter(until.getUTCFullYear(), this.language.monthNames[until.getUTCMonth()], until.getUTCDate()));\n    } else if (this.options.count) {\n      this.add(gettext('for')).add(this.options.count.toString()).add(this.plural(this.options.count) ? gettext('times') : gettext('time'));\n    }\n\n    if (!this.isFullyConvertible()) this.add(gettext('(~ approximate)'));\n    return this.text.join('');\n  };\n\n  ToText.prototype.HOURLY = function () {\n    var gettext = this.gettext;\n    if (this.options.interval !== 1) this.add(this.options.interval.toString());\n    this.add(this.plural(this.options.interval) ? gettext('hours') : gettext('hour'));\n  };\n\n  ToText.prototype.MINUTELY = function () {\n    var gettext = this.gettext;\n    if (this.options.interval !== 1) this.add(this.options.interval.toString());\n    this.add(this.plural(this.options.interval) ? gettext('minutes') : gettext('minutes'));\n  };\n\n  ToText.prototype.DAILY = function () {\n    var gettext = this.gettext;\n    if (this.options.interval !== 1) this.add(this.options.interval.toString());\n\n    if (this.byweekday && this.byweekday.isWeekdays) {\n      this.add(this.plural(this.options.interval) ? gettext('weekdays') : gettext('weekday'));\n    } else {\n      this.add(this.plural(this.options.interval) ? gettext('days') : gettext('day'));\n    }\n\n    if (this.origOptions.bymonth) {\n      this.add(gettext('in'));\n\n      this._bymonth();\n    }\n\n    if (this.bymonthday) {\n      this._bymonthday();\n    } else if (this.byweekday) {\n      this._byweekday();\n    } else if (this.origOptions.byhour) {\n      this._byhour();\n    }\n  };\n\n  ToText.prototype.WEEKLY = function () {\n    var gettext = this.gettext;\n\n    if (this.options.interval !== 1) {\n      this.add(this.options.interval.toString()).add(this.plural(this.options.interval) ? gettext('weeks') : gettext('week'));\n    }\n\n    if (this.byweekday && this.byweekday.isWeekdays) {\n      if (this.options.interval === 1) {\n        this.add(this.plural(this.options.interval) ? gettext('weekdays') : gettext('weekday'));\n      } else {\n        this.add(gettext('on')).add(gettext('weekdays'));\n      }\n    } else if (this.byweekday && this.byweekday.isEveryDay) {\n      this.add(this.plural(this.options.interval) ? gettext('days') : gettext('day'));\n    } else {\n      if (this.options.interval === 1) this.add(gettext('week'));\n\n      if (this.origOptions.bymonth) {\n        this.add(gettext('in'));\n\n        this._bymonth();\n      }\n\n      if (this.bymonthday) {\n        this._bymonthday();\n      } else if (this.byweekday) {\n        this._byweekday();\n      }\n    }\n  };\n\n  ToText.prototype.MONTHLY = function () {\n    var gettext = this.gettext;\n\n    if (this.origOptions.bymonth) {\n      if (this.options.interval !== 1) {\n        this.add(this.options.interval.toString()).add(gettext('months'));\n        if (this.plural(this.options.interval)) this.add(gettext('in'));\n      } else {// this.add(gettext('MONTH'))\n      }\n\n      this._bymonth();\n    } else {\n      if (this.options.interval !== 1) this.add(this.options.interval.toString());\n      this.add(this.plural(this.options.interval) ? gettext('months') : gettext('month'));\n    }\n\n    if (this.bymonthday) {\n      this._bymonthday();\n    } else if (this.byweekday && this.byweekday.isWeekdays) {\n      this.add(gettext('on')).add(gettext('weekdays'));\n    } else if (this.byweekday) {\n      this._byweekday();\n    }\n  };\n\n  ToText.prototype.YEARLY = function () {\n    var gettext = this.gettext;\n\n    if (this.origOptions.bymonth) {\n      if (this.options.interval !== 1) {\n        this.add(this.options.interval.toString());\n        this.add(gettext('years'));\n      } else {// this.add(gettext('YEAR'))\n      }\n\n      this._bymonth();\n    } else {\n      if (this.options.interval !== 1) this.add(this.options.interval.toString());\n      this.add(this.plural(this.options.interval) ? gettext('years') : gettext('year'));\n    }\n\n    if (this.bymonthday) {\n      this._bymonthday();\n    } else if (this.byweekday) {\n      this._byweekday();\n    }\n\n    if (this.options.byyearday) {\n      this.add(gettext('on the')).add(this.list(this.options.byyearday, this.nth, gettext('and'))).add(gettext('day'));\n    }\n\n    if (this.options.byweekno) {\n      this.add(gettext('in')).add(this.plural(this.options.byweekno.length) ? gettext('weeks') : gettext('week')).add(this.list(this.options.byweekno, undefined, gettext('and')));\n    }\n  };\n\n  ToText.prototype._bymonthday = function () {\n    var gettext = this.gettext;\n\n    if (this.byweekday && this.byweekday.allWeeks) {\n      this.add(gettext('on')).add(this.list(this.byweekday.allWeeks, this.weekdaytext, gettext('or'))).add(gettext('the')).add(this.list(this.bymonthday, this.nth, gettext('or')));\n    } else {\n      this.add(gettext('on the')).add(this.list(this.bymonthday, this.nth, gettext('and')));\n    } // this.add(gettext('DAY'))\n\n  };\n\n  ToText.prototype._byweekday = function () {\n    var gettext = this.gettext;\n\n    if (this.byweekday.allWeeks && !this.byweekday.isWeekdays) {\n      this.add(gettext('on')).add(this.list(this.byweekday.allWeeks, this.weekdaytext));\n    }\n\n    if (this.byweekday.someWeeks) {\n      if (this.byweekday.allWeeks) this.add(gettext('and'));\n      this.add(gettext('on the')).add(this.list(this.byweekday.someWeeks, this.weekdaytext, gettext('and')));\n    }\n  };\n\n  ToText.prototype._byhour = function () {\n    var gettext = this.gettext;\n    this.add(gettext('at')).add(this.list(this.origOptions.byhour, undefined, gettext('and')));\n  };\n\n  ToText.prototype._bymonth = function () {\n    this.add(this.list(this.options.bymonth, this.monthtext, this.gettext('and')));\n  };\n\n  ToText.prototype.nth = function (n) {\n    n = parseInt(n.toString(), 10);\n    var nth;\n    var npos;\n    var gettext = this.gettext;\n    if (n === -1) return gettext('last');\n    npos = Math.abs(n);\n\n    switch (npos) {\n      case 1:\n      case 21:\n      case 31:\n        nth = npos + gettext('st');\n        break;\n\n      case 2:\n      case 22:\n        nth = npos + gettext('nd');\n        break;\n\n      case 3:\n      case 23:\n        nth = npos + gettext('rd');\n        break;\n\n      default:\n        nth = npos + gettext('th');\n    }\n\n    return n < 0 ? nth + ' ' + gettext('last') : nth;\n  };\n\n  ToText.prototype.monthtext = function (m) {\n    return this.language.monthNames[m - 1];\n  };\n\n  ToText.prototype.weekdaytext = function (wday) {\n    var weekday = isNumber(wday) ? (wday + 1) % 7 : wday.getJsWeekday();\n    return (wday.n ? this.nth(wday.n) + ' ' : '') + this.language.dayNames[weekday];\n  };\n\n  ToText.prototype.plural = function (n) {\n    return n % 100 !== 1;\n  };\n\n  ToText.prototype.add = function (s) {\n    this.text.push(' ');\n    this.text.push(s);\n    return this;\n  };\n\n  ToText.prototype.list = function (arr, callback, finalDelim, delim) {\n    if (delim === void 0) {\n      delim = ',';\n    }\n\n    if (!isArray(arr)) {\n      arr = [arr];\n    }\n\n    var delimJoin = function (array, delimiter, finalDelimiter) {\n      var list = '';\n\n      for (var i = 0; i < array.length; i++) {\n        if (i !== 0) {\n          if (i === array.length - 1) {\n            list += ' ' + finalDelimiter + ' ';\n          } else {\n            list += delimiter + ' ';\n          }\n        }\n\n        list += array[i];\n      }\n\n      return list;\n    };\n\n    callback = callback || function (o) {\n      return o.toString();\n    };\n\n    var self = this;\n\n    var realCallback = function (arg) {\n      return callback && callback.call(self, arg);\n    };\n\n    if (finalDelim) {\n      return delimJoin(arr.map(realCallback), delim, finalDelim);\n    } else {\n      return arr.map(realCallback).join(delim + ' ');\n    }\n  };\n\n  return ToText;\n}();\n\nexport default ToText;","map":{"version":3,"mappings":"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","names":["ENGLISH","RRule","isArray","isNumber","isPresent","contains","arr","val","indexOf","defaultGetText","toString","defaultDateFormatter","year","month","day","rrule","gettext","language","dateFormatter","text","options","origOptions","bymonthday","concat","bynmonthday","sort","a","b","length","byweekday","days","String","allWeeks","filter","weekday","n","someWeeks","Boolean","isWeekdays","isEveryDay","sortWeekDays","ToText","canConvert","freq","IMPLEMENTED","until","count","key","isFullyConvertible","FREQUENCIES","add","getUTCFullYear","monthNames","getUTCMonth","getUTCDate","plural","join","interval","bymonth","_bymonth","_bymonthday","_byweekday","byhour","_byhour","byyearday","list","nth","byweekno","undefined","weekdaytext","monthtext","parseInt","npos","Math","abs","m","wday","getJsWeekday","dayNames","s","push","callback","finalDelim","delim","delimJoin","array","delimiter","finalDelimiter","i","o","self","realCallback","arg","call","map"],"sources":["../../../../src/nlp/totext.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}